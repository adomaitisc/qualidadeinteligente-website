---
export interface Props {
	title: string;
	body: string;
	href: string;
	external?: boolean;
}

const { href, title, body, external } = Astro.props;

const id = title.toLowerCase().replace(/\s/g, '-');
---

<a onclick="openDialog()" class="group relative">
	<div class="absolute text-white p-6 z-10">
		<h2 class="text-xl flex gap-2 items-center">
			{title}
			{external ? (
				<svg class="w-4 h-4 scale-0 group-hover:scale-100 duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>
			) : (

				<svg class="w-4 h-4 scale-0 group-hover:scale-100 duration-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-maximize-2"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>
			)}
		</h2>
		<p class="text-zinc-500 font-light mt-2">
			{body}
		</p>
	</div>
	<div class={`w-full h-72 border relative overflow-hidden border-zinc-800 group-hover:border-purple-700 ${external && 'border-purple-700/40 group-hover:border-purple-700'} rounded-2xl duration-300`}>
		{external &&
			// <img
			// src="/assets/aditis.svg"
			// alt="aditis"
			// class="h-full w-[200%] absolute object-cover bg-repeat group-hover:scale-110 group-hover:blur-0 grayscale duration-300 group-hover:grayscale-0"
			// />
			// <img
			//   src="/assets/noronha-heightmap.png"
			//   alt="aditis"
			//   class="h-full w-[200%] absolute translate-y-1/3 group-hover:translate-y-10 opacity-0 object-cover bg-repeat group-hover:opacity-60 group-hover:scale-100 duration-500 ease-in-out"
			// />
			<script type="module" src="https://unpkg.com/@splinetool/viewer@0.9.375/build/spline-viewer.js"></script>
			<spline-viewer onload="splineLoaded();" class="brightness-[0.2] group-hover:brightness-100 duration-500 ease-in-out" url="https://prod.spline.design/cTafH-Fb2ifkPKAP/scene.splinecode">
			</spline-viewer>
		}
	</div>
</a>
<div id="dialog" class="opacity-0 pointer-events-none overflow-hidden grid place-items-center fixed overscroll-none top-0 left-0 w-screen h-screen z-50 bg-black/60 backdrop-blur-sm">
	<div id="dialogItem" class="translate-y-1/2 opacity-0 bg-zinc-900 duration-300 rounded-3xl border-zinc-500 w-full max-w-4xl h-3/5 p-10">
		<h1 class="text-2xl">{title}</h1>
		<a onclick="closeDialog()">Fechar</a>
	</div>
</div>
